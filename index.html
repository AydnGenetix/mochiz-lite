<!DOCTYPE html>
<html lang="fr">
<!-- Même head qu'avant -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamagotchi Light</title>
    <style>
        /* Styles précédents... */

        /* Nouvelles animations pour chaque état */
        @keyframes happy-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px) scale(1.05); }
        }

        @keyframes sad-shake {
            0%, 100% { transform: translateX(0) rotate(0); }
            25% { transform: translateX(-3px) rotate(-3deg); }
            75% { transform: translateX(3px) rotate(3deg); }
        }

        @keyframes eating-chomp {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes shower-sparkle {
            0% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0); }
        }

        @keyframes dead-float {
            0% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(5px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0); }
        }

        @keyframes overfed-wobble {
            0% { transform: rotate(0); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
            100% { transform: rotate(0); }
        }

        .tama-svg.happy { animation: happy-bounce 2s ease-in-out infinite; }
        .tama-svg.sad { animation: sad-shake 3s ease-in-out infinite; }
        .tama-svg.eating { animation: eating-chomp 0.5s ease-in-out infinite; }
        .tama-svg.showering { animation: none; } /* L'animation sera dans le SVG */
        .tama-svg.dead { animation: dead-float 4s ease-in-out infinite; }
        .tama-svg.overfed { animation: overfed-wobble 2s ease-in-out infinite; }

        /* Ajout d'effets spéciaux */
        .sparkle {
            position: absolute;
            pointer-events: none;
            animation: shower-sparkle 1s linear infinite;
        }

        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Même structure HTML -->
    <script>
        // Mise à jour des états SVG avec des versions plus élaborées
        const svgStates = {
            happy: `
                <g class="tama-body">
                    <circle cx="50" cy="50" r="40" fill="#FFD700"/>
                    <g class="eyes">
                        <circle cx="35" cy="40" r="6" fill="#000"/>
                        <circle cx="65" cy="40" r="6" fill="#000"/>
                        <circle cx="37" cy="38" r="2" fill="#FFF"/>
                        <circle cx="67" cy="38" r="2" fill="#FFF"/>
                    </g>
                    <path d="M 30 60 Q 50 75 70 60" stroke="#000" stroke-width="3" fill="none"/>
                    <circle cx="50" cy="35" r="2" fill="#FF9999" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;0.8;0.6" dur="2s" repeatCount="indefinite"/>
                    </circle>
                </g>
            `,
            
            eating: `
                <g class="tama-body">
                    <circle cx="50" cy="50" r="40" fill="#90EE90"/>
                    <g class="eyes">
                        <path d="M 30 40 Q 35 35 40 40" stroke="#000" stroke-width="3" fill="none"/>
                        <path d="M 60 40 Q 65 35 70 40" stroke="#000" stroke-width="3" fill="none"/>
                    </g>
                    <path class="mouth" d="M 30 60 Q 50 85 70 60" stroke="#000" stroke-width="3" fill="#FF9999">
                        <animate attributeName="d" 
                            values="M 30 60 Q 50 85 70 60;M 30 60 Q 50 65 70 60;M 30 60 Q 50 85 70 60" 
                            dur="0.5s" 
                            repeatCount="indefinite"/>
                    </path>
                </g>
                <g class="food-particles">
                    <circle cx="25" cy="70" r="2" fill="#FFD700">
                        <animate attributeName="cy" values="70;65;70" dur="0.5s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="75" cy="70" r="2" fill="#FFD700">
                        <animate attributeName="cy" values="70;65;70" dur="0.5s" repeatCount="indefinite"/>
                    </circle>
                </g>
            `,

            showering: `
                <defs>
                    <radialGradient id="water-sparkle">
                        <stop offset="0%" stop-color="#87CEEB"/>
                        <stop offset="100%" stop-color="#4FA9CC"/>
                    </radialGradient>
                </defs>
                <g class="tama-body">
                    <circle cx="50" cy="50" r="40" fill="url(#water-sparkle)"/>
                    <g class="eyes">
                        <circle cx="35" cy="40" r="6" fill="#000"/>
                        <circle cx="65" cy="40" r="6" fill="#000"/>
                        <circle cx="37" cy="38" r="2" fill="#FFF"/>
                        <circle cx="67" cy="38" r="2" fill="#FFF"/>
                    </g>
                    <path d="M 30 60 Q 50 70 70 60" stroke="#000" stroke-width="3" fill="none"/>
                </g>
                <g class="water-drops">
                    <path d="M 20 20 L 25 30" stroke="#87CEEB" stroke-width="2">
                        <animate attributeName="opacity" values="0;1;0" dur="0.5s" repeatCount="indefinite"/>
                    </path>
                    <path d="M 70 20 L 75 30" stroke="#87CEEB" stroke-width="2">
                        <animate attributeName="opacity" values="0;1;0" dur="0.5s" repeatCount="indefinite" begin="0.2s"/>
                    </path>
                    <path d="M 45 10 L 50 20" stroke="#87CEEB" stroke-width="2">
                        <animate attributeName="opacity" values="0;1;0" dur="0.5s" repeatCount="indefinite" begin="0.3s"/>
                    </path>
                </g>
            `,

            sad: `
                <g class="tama-body">
                    <circle cx="50" cy="50" r="40" fill="#8B0000"/>
                    <g class="eyes">
                        <path d="M 30 45 Q 35 50 40 45" stroke="#000" stroke-width="3" fill="none"/>
                        <path d="M 60 45 Q 65 50 70 45" stroke="#000" stroke-width="3" fill="none"/>
                        <path d="M 32 35 L 38 40" stroke="#6495ED" stroke-width="2">
                            <animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite"/>
                        </path>
                        <path d="M 62 35 L 68 40" stroke="#6495ED" stroke-width="2">
                            <animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite" begin="1.5s"/>
                        </path>
                    </g>
                    <path d="M 30 70 Q 50 60 70 70" stroke="#000" stroke-width="3" fill="none"/>
                </g>
            `,

            dead: `
                <g class="tama-body">
                    <circle cx="50" cy="50" r="40" fill="#4A4A4A"/>
                    <g class="eyes">
                        <path d="M 30 40 L 40 50 L 30 60" stroke="#000" stroke-width="3" fill="none"/>
                        <path d="M 70 40 L 60 50 L 70 60" stroke="#000" stroke-width="3" fill="none"/>
                    </g>
                    <path d="M 30 70 Q 50 60 70 70" stroke="#000" stroke-width="3" fill="none"/>
                    <g class="spirit" opacity="0.5">
                        <path d="M 45 20 Q 50 15 55 20 Q 60 25 55 30 Q 50 35 45 30 Q 40 25 45 20" fill="#FFF">
                            <animate attributeName="transform" 
                                type="translate" 
                                values="0,0; 0,-10; 0,0" 
                                dur="3s" 
                                repeatCount="indefinite"/>
                        </path>
                    </g>
                </g>
            `,

            overfed: `
                <g class="tama-body">
                    <circle cx="50" cy="50" r="45" fill="#98FB98"/>
                    <circle cx="50" cy="50" r="42" fill="#90EE90"/>
                    <g class="eyes">
                        <path d="M 30 45 Q 35 50 40 45" stroke="#000" stroke-width="3" fill="none"/>
                        <path d="M 60 45 Q 65 50 70 45" stroke="#000" stroke-width="3" fill="none"/>
                    </g>
                    <path d="M 30 70 Q 50 85 70 70" stroke="#000" stroke-width="3" fill="#FF9999"/>
                    <g class="sweat-drops">
                        <circle cx="25" cy="40" r="2" fill="#87CEEB">
                            <animate attributeName="cy" values="40;45;40" dur="1s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="75" cy="40" r="2" fill="#87CEEB">
                            <animate attributeName="cy" values="40;45;40" dur="1s" repeatCount="indefinite" begin="0.5s"/>
                        </circle>
                    </g>
                </g>
            `,

            ok: `
                <g class="tama-body">
                    <circle cx="50" cy="50" r="40" fill="#FFA500"/>
                    <g class="eyes">
                        <circle cx="35" cy="40" r="6" fill="#000"/>
                        <circle cx="65" cy="40" r="6" fill="#000"/>
                        <circle cx="37" cy="38" r="2" fill="#FFF"/>
                        <circle cx="67" cy="38" r="2" fill="#FFF"/>
                    </g>
                    <path d="M 30 60 Q 50 65 70 60" stroke="#000" stroke-width="3" fill="none"/>
                </g>
            `,

            bad: `
                <g class="tama-body">
                    <circle cx="50" cy="50" r="40" fill="#FF6B6B"/>
                    <g class="eyes">
                        <circle cx="35" cy="40" r="6" fill="#000"/>
                        <circle cx="65" cy="40" r="6" fill="#000"/>
                        <circle cx="37" cy="38" r="2" fill="#FFF"/>
                        <circle cx="67" cy="38" r="2" fill="#FFF"/>
                    </g>
                    <path d="M 30 65 Q 50 60 70 65" stroke="#000" stroke-width="3" fill="none">
                        <animate attributeName="d" 
                            values="M 30 65 Q 50 60 70 65;M 30 63 Q 50 58 70 63;M 30 65 Q 50 60 70 65" 
                            dur="2s" 
                            repeatCount="indefinite"/>
                    </path>
                </g>
            `
        };

        // Reste du code JavaScript inchangé...
    </script>
</body>
</html>